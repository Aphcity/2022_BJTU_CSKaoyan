# 操作系统应用题

## 内存管理

### 页面置换

- N 级页表 无快表结构 需要进行 **N + 1 次访存**
- N 级页表 有快表结构 需要进行 **1 次访存**
- 页表逻辑地址转换为物理地址时，可以有两种表示：八进制，十进制
- 页表逻辑地址转换为物理地址时，需要对应通过 **逻辑地址计算页号** 找到对应的 物理块号，再加上求页号的余项，作为物理地址
- 页表逻辑地址转换为物理地址时，当 **逻辑地址计算的页号超出页表范围** 时，发生 **越界中断** ，无法计算对应的物理地址

## 文件管理

### 混合索引文件物理结构 计算

> 磁盘盘块大小为 2 KB ，磁盘盘块地址（盘块号）占 4 B ，某文件控制块（索引结点）定义为 10 个直接地址项，1 个一级间址项，1 个二级间址项，1 个三级间址项，求该文件系统支持的最大文件长度

1. 通过 **磁盘盘块** 及 **盘块地址大小** 计算 每个盘块可以存放的地址数，即 **数据块数**

   > $$
   > \frac{2\text{KB}}{4\text{B}}=2^9
   > $$

2. n 级间址项 文件的最大长度 为 **n 与 数据块数 的乘积**

3. 最大文件长度为多级索引最大长度总和
	> $$
	> [ 10 + 1 \cross 2^9 + 1 \cross ( 2^9 ) ^ 2 + 1 \cross ( 2^9 ) ^ 3 ] \cross 4 \text{KB} = 256 \text{GB} + 513\text{MB} +20 \text{KB}
	> $$

